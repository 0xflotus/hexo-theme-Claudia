<%
    var defaultTitle = 'Null'

    var firstArticle = posts.data[0]
    var secondArticle = posts.data[1]
    var thirdArticle = posts.data[2]
%>
<div class="primary-post-container is-flex content-box clear-padding">
    <div class="column is-7">
        <a href="<%= config.root + firstArticle.path %>">
            <div class="primary-item-main full-height post-hover"
                 style="background-image: url('<%- getPostCoverPhoto(firstArticle) %>')">
                <div class="full-width">
                    <div class="content has-text-centered">
                        <% firstArticle.tags.forEach( function(tag){%>
                            <span class="tag"><%= tag %></span>
                        <%})%>
                            <h1 class="title text-shadow is-marginless"><%= firstArticle.title || defaultTitle %></h1>
                            <p class="sub-title text-shadow"><%= firstArticle.subtitle || ''%></p>
                            <p class="post-content-text is-marginless text-shadow">
                                <%- truncate(strip_html(firstArticle.content), {length: 150, omission: '..'}) %>
                            </p>
                            <p class="date text-shadow"><%= firstArticle.date.format(config.date_format) %></p>
                    </div>
                </div>
            </div>
        </a>
    </div>
    <div class="column is-5" style="padding-left: 0;">
        <div class="full-height is-flex flex-column justify-space-between">
            <div class="primary-item-sub"
                 style="background-image: url('<%- getPostCoverPhoto(secondArticle) %>')" >
                <a class="post-hover full-width full-height has-padding" href="<%- config.root + secondArticle.path %>">
                    <div class="content">
                        <h2 class="title is-marginless text-shadow"><%- secondArticle.title || defaultTitle%></h2>
                        <p class="sub-title text-shadow"><%- secondArticle.subtitle || ''%></p>
                        <p class="post-content-text text-shadow is-marginless">
                            <%- truncate(strip_html(secondArticle.content), {length: 80, omission: '..'}) %>
                        </p>
                        <p class="date text-shadow"><%- secondArticle.date.format(config.date_format) %></p>
                    </div>
                </a>
            </div>
            <div class="primary-item-sub"
                 style="background-image: url('<%- getPostCoverPhoto(thirdArticle)%>')" >
                <a class="post-hover full-width full-height has-padding" href="<%- config.root + thirdArticle.path %>">
                    <div class="content">
                        <h2 class="title is-marginless text-shadow">
                            <%= thirdArticle.title || defaultTitle%>
                        </h2>
                        <p class="sub-title text-shadow"><%= thirdArticle.subtitle || '' %></p>
                        <p class="is-marginless text-shadow post-content-text">
                            <%- truncate(strip_html(thirdArticle.content), {length: 80, omission: '..'}) %>
                        </p>
                        <p class="date text-shadow"><%= thirdArticle.date.format(config.date_format) %></p>
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>
